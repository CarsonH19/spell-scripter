import{i as p,k as d,j as e,r,F as t,D as v,$ as h,a4 as _,a5 as g,m as j,a2 as f,t as b,s as x}from"./index-B-q9pSFH.js";import{x as L,o as m,u as N}from"./misc-util-zfYkWB24.js";import{T as k}from"./TomeColumn-CxPRwUUW.js";import"./music-DTrnlnbA.js";const y="_dashboard_1ho59_1",C={dashboard:y},q="_column_k7pqd_1",M="_dungeons_k7pqd_21",E="_selection_k7pqd_34",D="_description_k7pqd_49",i={column:q,dungeons:M,selection:E,description:D};function T(){const s=p();d(l=>l.dungeon);const n=()=>{L(s,"The Great Catacomb"),m(s,"confirmationModal")};return e.jsxs("div",{className:i.column,children:[e.jsx("h1",{children:"Dungeons"}),e.jsxs("div",{className:i.dungeons,children:[e.jsx("h2",{children:" The Great Catacombs"}),e.jsx("div",{className:i.selection,style:{backgroundImage:"url(/assets/images/backgrounds/the-great-catacomb/catacomb-entrance-3.jpg)"}}),e.jsx("p",{className:i.description,children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Neque nulla ut sequi illo quae ipsa nobis cumque dolore? Quo ipsa quas velit laudantium ab ipsam a illo tempora cum in!"}),e.jsx("button",{onClick:n,children:"Enter"})]})]})}const I="_column_1137g_1",S="_player_1137g_21",$="_header_1137g_34",A="_percentage_1137g_50",F="_tooltip_1137g_58",G="_menu_1137g_115",O="_icon_1137g_131",Q="_settings_1137g_146",a={column:I,player:S,header:$,"bar-info":"_bar-info_1137g_43",percentage:A,tooltip:F,"player-image":"_player-image_1137g_87",menu:G,icon:O,settings:Q};function U(){const s=p(),n=d(u=>u.player),{prevLevel:l,nextLevel:o}=w(n.totalMasteryPoints);r.useEffect(()=>{N(s,"Player")},[]);const c=u=>{m(s,u)};return e.jsxs("div",{className:a.column,children:[e.jsxs("div",{className:a.player,children:[e.jsxs("div",{className:a.header,children:[e.jsx("h1",{children:n.name}),e.jsxs("div",{className:a["bar-info"],children:[e.jsxs("p",{children:["Level: ",n.level]}),e.jsxs("p",{className:a.percentage,children:[Math.round((n.totalMasteryPoints-l)/(o-l)*100),"%"]}),e.jsxs("p",{children:[n.totalMasteryPoints,"/",o]})]}),e.jsx("progress",{value:n.totalMasteryPoints-l,max:o-l}),e.jsxs("p",{children:["Mastery Points: ",n.totalMasteryPoints]})]}),e.jsx("img",{className:a["player-image"],src:`${n.image}.png`,alt:"Player Image"}),e.jsxs("div",{className:a.menu,children:[e.jsxs("div",{children:[e.jsx(t,{className:a.icon,icon:v,onClick:()=>c("spellbookModal")}),e.jsx("p",{children:"Spellbook"})]}),e.jsxs("div",{children:[e.jsx(t,{className:a.icon,icon:h,onClick:()=>c("inventoryModal")}),e.jsx("p",{children:"Inventory"})]}),e.jsxs("div",{children:[e.jsx(t,{className:a.icon,icon:_,onClick:()=>c("heroesModal")}),e.jsx("p",{children:"Heroes"})]}),e.jsxs("div",{children:[e.jsx(t,{className:a.icon,icon:g,onClick:()=>c("questsModal")}),e.jsx("p",{children:"Quests"})]}),e.jsxs("div",{children:[e.jsx(t,{className:a.icon,icon:j,onClick:()=>c("attributeModal")}),e.jsx("p",{children:"Attributes"})]})]})]}),e.jsx(t,{className:a.settings,icon:f,onClick:()=>c("settingsModal")})]})}function w(s){if(s>=48)return{prevLevel:48,nextLevel:48};if(s>=32)return{prevLevel:32,nextLevel:48};if(s>=24)return{prevLevel:24,nextLevel:32};if(s>=17)return{prevLevel:17,nextLevel:24};if(s>=11)return{prevLevel:11,nextLevel:17};if(s>=7)return{prevLevel:7,nextLevel:11};if(s>=4)return{prevLevel:4,nextLevel:7};if(s>=2)return{prevLevel:2,nextLevel:4};if(s===1)return{prevLevel:1,nextLevel:2}}const V=r.memo(()=>{const s=p(),n=d(o=>o.tome),l=d(o=>o.player.level);return r.useEffect(()=>{s(b.checkForLevelUp({tome:n}))},[s,n]),r.useEffect(()=>{const o=x.getState().player.level;l!==o&&!x.getState().ui.modalIsVisible&&m(s,"attributeModal")},[s,l]),e.jsxs("div",{className:C.dashboard,children:[e.jsx(k,{}),e.jsx(U,{}),e.jsx(T,{})]})});export{V as default};
