import{i as m,k as d,j as e,r,F as c,D as v,$ as h,a4 as j,a5 as _,m as g,a2 as f,t as b,s as x}from"./index-BumLs4NH.js";import{x as L,o as p,u as k}from"./misc-util-DNiZ3Gxk.js";import{T as N}from"./TomeColumn-DXJlyC9j.js";import"./music-CxyqBy3d.js";const y="_dashboard_mptgz_1",C={dashboard:y},M="_column_7j3go_1",E="_dungeons_7j3go_21",D="_selection_7j3go_34",q="_description_7j3go_49",t={column:M,dungeons:E,selection:D,description:q};function T(){const s=m();d(l=>l.dungeon);const n=()=>{L(s,"The Great Catacomb"),p(s,"confirmationModal")};return e.jsxs("div",{className:t.column,children:[e.jsx("h1",{children:"Dungeons"}),e.jsxs("div",{className:t.dungeons,children:[e.jsx("h2",{children:" The Great Catacombs"}),e.jsx("div",{className:t.selection,style:{backgroundImage:"url(/assets/images/backgrounds/the-great-catacomb/catacomb-entrance-3.jpg)"}}),e.jsx("p",{children:"Description"}),e.jsx("p",{className:t.description,children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Neque nulla ut sequi illo quae ipsa nobis cumque dolore? Quo ipsa quas velit laudantium ab ipsam a illo tempora cum in!"}),e.jsx("button",{onClick:n,children:"Enter"})]})]})}const I="_column_13eki_1",S="_player_13eki_21",$="_header_13eki_34",A="_percentage_13eki_50",F="_tooltip_13eki_58",G="_menu_13eki_116",O="_icon_13eki_132",Q="_settings_13eki_147",a={column:I,player:S,header:$,"bar-info":"_bar-info_13eki_43",percentage:A,tooltip:F,"player-image":"_player-image_13eki_87",menu:G,icon:O,settings:Q};function U(){const s=m(),n=d(u=>u.player),{prevLevel:l,nextLevel:o}=w(n.totalMasteryPoints);r.useEffect(()=>{k(s,"Player")},[]);const i=u=>{p(s,u)};return e.jsxs("div",{className:a.column,children:[e.jsxs("div",{className:a.player,children:[e.jsxs("div",{className:a.header,children:[e.jsx("h1",{children:n.name}),e.jsxs("div",{className:a["bar-info"],children:[e.jsxs("p",{children:["Level: ",n.level]}),e.jsxs("p",{className:a.percentage,children:[Math.round((n.totalMasteryPoints-l)/(o-l)*100),"%"]}),e.jsxs("p",{children:[n.totalMasteryPoints,"/",o]})]}),e.jsx("progress",{value:n.totalMasteryPoints-l,max:o-l}),e.jsxs("p",{children:["Mastery Points: ",n.totalMasteryPoints]})]}),e.jsx("img",{className:a["player-image"],src:`${n.image}.png`,alt:"Player Image"}),e.jsxs("div",{className:a.menu,children:[e.jsxs("div",{children:[e.jsx(c,{className:a.icon,icon:v,onClick:()=>i("spellbookModal")}),e.jsx("p",{children:"Spellbook"})]}),e.jsxs("div",{children:[e.jsx(c,{className:a.icon,icon:h,onClick:()=>i("inventoryModal")}),e.jsx("p",{children:"Inventory"})]}),e.jsxs("div",{children:[e.jsx(c,{className:a.icon,icon:j,onClick:()=>i("heroesModal")}),e.jsx("p",{children:"Heroes"})]}),e.jsxs("div",{children:[e.jsx(c,{className:a.icon,icon:_,onClick:()=>i("questsModal")}),e.jsx("p",{children:"Quests"})]}),e.jsxs("div",{children:[e.jsx(c,{className:a.icon,icon:g,onClick:()=>i("attributeModal")}),e.jsx("p",{children:"Attributes"})]})]})]}),e.jsx(c,{className:a.settings,icon:f,onClick:()=>i("settingsModal")})]})}function w(s){if(s>=48)return{prevLevel:48,nextLevel:48};if(s>=32)return{prevLevel:32,nextLevel:48};if(s>=24)return{prevLevel:24,nextLevel:32};if(s>=17)return{prevLevel:17,nextLevel:24};if(s>=11)return{prevLevel:11,nextLevel:17};if(s>=7)return{prevLevel:7,nextLevel:11};if(s>=4)return{prevLevel:4,nextLevel:7};if(s>=2)return{prevLevel:2,nextLevel:4};if(s===1)return{prevLevel:1,nextLevel:2}}const R=r.memo(()=>{const s=m(),n=d(o=>o.tome),l=d(o=>o.player.level);return r.useEffect(()=>{s(b.checkForLevelUp({tome:n}))},[s,n]),r.useEffect(()=>{const o=x.getState().player.level;l!==o&&!x.getState().ui.modalIsVisible&&p(s,"attributeModal")},[s,l]),e.jsxs("div",{className:C.dashboard,children:[e.jsx(N,{}),e.jsx(U,{}),e.jsx(T,{})]})});export{R as default};
